<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css">
  <link rel="stylesheet" href="styles.css">
  <title>Document</title>
</head>

<body class="has-text-black">
  <div style="position: relative;">
    <h1 class="title has-text-black has-text-centered mt-5">
      GESTOR DE TAREAS
    </h1>
    <button class="button mb-5" id="toggle-dark-mode">
      <span class="icon is-small">
        <img id="toggle-image" src="moon-solid.svg">
      </span>
    </button>
  </div>
  <div class="interstice is-flex is-justify-content-end pr-3">
    <button class="interstice js-modal-trigger button mb-5" data-target="modal-js-example">
      Agregar tarea
    </button>
  </div>
  <div class="columns">
    <div id="backlog" class="column">
      <div class="level">
        <div class="level-item">
          <figure class="image is-16x16">
            <img src="menu-hamburguesa (1).png" alt="Menu icon">
          </figure>
        </div>
        <div class="level-item">
          <h2 class="is-size-4">BACKLOG</h2>
        </div>
      </div>
    </div>
    <div id="todo" class="column">
      <div class="level">
        <div class="level-item">
          <figure class="image is-16x16">
            <img src="menu-hamburguesa.png" alt="Menu icon">
          </figure>
        </div>
        <div class="level-item">
          <h2 class="is-size-4">TO DO</h2>
        </div>
      </div>
    </div>
    <div id="inProgress" class="column">
      <div class="level">
        <div class="level-item">
          <figure class="image is-16x16">
            <img src="angulo-derecho.png" alt="Menu icon">
          </figure>
        </div>
        <div class="level-item">
          <h2 class="is-size-4">IN PROGRESS</h2>
        </div>
      </div>
    </div>
    <div id="blocked" class="column">
      <div class="level">
        <div class="level-item">
          <figure class="image is-16x16">
            <img src="cruz.png" alt="Menu icon">
          </figure>
        </div>
        <div class="level-item">
          <h2 class="is-size-4">BLOCKED</h2>
        </div>
      </div>
    </div>
    <div id="done" class="column">
      <div class="level">
        <div class="level-item">
          <figure class="image is-16x16">
            <img src="controlar.png" alt="Menu icon">
          </figure>
        </div>
        <div class="level-item">
          <h2 class="is-size-4">DONE</h2>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="addcard">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head">
        <p class="modal-card-title">Modal title</p>
        <button onclick="handleCardCancel()" class="delete" aria-label="close"></button>
      </header>
      <form class="modal-card-body">
        <div class="control">
          <label class="label">Nombre de la tarea</label>
          <input class="input" id="title" type="text" placeholder="Text input">
          <span id="errorTitle" class="error"></span>
        </div>
        <div class="field">
          <label class="label">Descripción de la tarea</label>
          <div class="control">
            <textarea id="description" class="input" placeholder="Textarea"></textarea>
            <span id="errorDescription" class="error"></span>
          </div>
        </div>
        <div class="field is-flex is-justify-content-space-between">
          <div class="control">
            <label class="label">Estado</label>
            <div class="select">
              <select id="state">
                <option value="backlog">Backlog</option>
                <option value="todo">TO DO</option>
                <option value="inProgress">In Progress</option>
                <option value="blocked">Blocked</option>
                <option value="done">Done</option>
              </select>
            </div>
          </div>
          <div class="field">
            <label class="label">Asignado</label>
            <div class="control">
              <div class="select">
                <select id="assigned">
                  <option>Opción 1</option>
                  <option>Opción 2</option>
                  <option>Opción 3</option>
                </select>
              </div>

            </div>
          </div>
          <div class="field">
            <label class="label">Prioridad</label>
            <div class="control">
              <div class="select">
                <select id="priority">
                  <option>Alta</option>
                  <option>Media</option>
                  <option>Baja</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <div class="field">
          <label class="label">Fecha Límite</label>
          <div class="control">
            <input id="deadline" class="input" type="date">
            <span id="errorDeadLine" class="error"></span>
          </div>
        </div>

        </section>
        <footer class="py-2 is-flex is-justify-content-space-between">
          <button onclick="handleCardCancel()" type="button" class="button">Cancelar</button>
          <button onclick="handleCardSave()" type="button" class="button is-success">Guardar cambios</button>
        </footer>
      </form>
    </div>
  </div>

  <div class="modal" id="edit-card">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head">
        <p class="modal-card-title">Modal title</p>
        <button onclick="handleCardCancel()" class="delete" aria-label="close"></button>
      </header>
      <form class="modal-card-body">
        <label class="label">Nombre de la tarea</label>
        <div class="control">
          <input class="input" id="edit-title" type="text" placeholder="Text input">
          <span id="edit-errorTitle" class="error"></span>
        </div>
        <div class="field">
          <label class="label">Descripción de la tarea</label>
          <div class="control">
            <textarea id="edit-description" class="input" placeholder="Textarea"></textarea>
            <span id="edit-errorDescription" class="error"></span>
          </div>
        </div>
        <div class="field">
          <label class="label">Estado</label>
          <div class="control">
            <div class="select">
              <select id="edit-state">
                <option value="backlog">Backlog</option>
                <option value="todo">TO DO</option>
                <option value="inProgress">In Progress</option>
                <option value="blocked">Blocked</option>
                <option value="done">Done</option>
              </select>
            </div>
          </div>
          <div class="field">
            <label class="label">Asignado</label>
            <div class="control">
              <div class="select">
                <select id="edit-assigned">
                  <option>Opción 1</option>
                  <option>Opción 2</option>
                  <option>Opción 3</option>
                </select>
              </div>
            </div>
          </div>
          <div class="field">
            <label class="label">Prioridad</label>
            <div class="control">
              <div class="select">
                <select id="edit-priority">
                  <option>Alta</option>
                  <option>Media</option>
                  <option>Baja</option>
                </select>
              </div>
            </div>
          </div>
          <div class="field">
            <label class="label">Fecha Límite</label>
            <div class="control">
              <input id="edit-deadline" class="input" type="date">
              <span id="edit-errorDeadLine" class="error"></span>
            </div>
          </div>
        </div>
        <div class="field">
          <label class="label">Prioridad</label>
          <div class="control">
            <div class="select">
              <select id="priority">
                <option>Alta</option>
                <option>Media</option>
                <option>Baja</option>
              </select>
            </div>
            <!-- El ícono de prioridad se mostrará en la tarjeta creada, no en el formulario -->
          </div>
        </div>
        <div class="field">
          <label class="label">Fecha Límite</label>
          <div class="control">
            <input id="deadline" class="input" type="date">
            <!-- El ícono de calendario se mostrará en la tarjeta creada, no en el formulario -->
            <span id="errorDeadLine" class="error"></span>
          </div>
        </div>
        <footer class="modal-card-foot">
          <div class="buttons">
            <button onclick="handleCardSaveEdit()" type="button" class="button is-success">Guardar cambios</button>
            <button onclick="handleCardCancel()" type="button" class="button">Cancelar</button>
          </div>
        </footer>
      </form>
    </div>
  </div>

  <template id="card">
    <div class="card draggable" style="position: relative;">
      <div class="card-header">
        <span class="priority text-highlight">
          <figure class="image is-16x16">
            <img src="Icon-Flag.png" alt="Priority flag icon"> Alta
          </figure>
        </span>
        <h5 class="title is-size-5">Título de la Tarea</h5>
      </div>
      <figure class="image is-32x32 editIcon" style="position: absolute; top: 10px; right: 10px; opacity: 0.3;">
        <img src="edit.png" alt="Description of image">
      </figure>
      <p class="description is-size-6">Descripción de la tarea</p>
      <div class="card-footer">
        <span class="deadline text-highlight">
          <figure class="image is-16x16">
            <img src="Icon-Calendar.png" alt="Calendar icon"> 01/09/2024
          </figure>
        </span>
      </div>
    </div>
  </template>

  <script src="editHelper.js" defer></script>
  <script src="dragHelpers.js" defer></script>
  <script src="script.js" defer></script>
  <script src="darkLightMode.js" defer></script>
</body>

</html>
